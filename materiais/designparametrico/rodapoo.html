<html>
  <head> </head>
  <body>
    <div
      style="
        position: fixed;
        z-index: 2;
        top: 20px;
        left: 20px;
        width: calc(100% - 40px);
        height: calc(100dvh - 40px);
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
        align-items: center;
      "
    >
      <iframe
        id="codigo"
        frameborder="0"
        style="width: 100%; height: calc(100dvh - 40px)"
        src=""
      ></iframe>
    </div>

    <script>
      $_GET = [];
      (function () {
        corte = window.location.href.toString().indexOf("?");
        if (corte > 0) {
          argumento = window.location.href.toString().substring(corte + 1);
          argumentos = argumento.split("&");
          for (arg in argumentos) {
            let argCorte = argumentos[arg].indexOf("=");
            $_GET[argumentos[arg].substring(0, argCorte)] = argumentos[
              arg
            ].substring(argCorte + 1);
          }
        }
      })();

      let corbg = "FFFFFF";
      if (
        typeof $_GET["bgcolor"] != "undefined" &&
        $_GET["bgcolor"] != null &&
        $_GET["bgcolor"] != ""
      ) {
        corbg = $_GET["bgcolor"];
      }

      let corfg = "888888";
      if (
        typeof $_GET["fgcolor"] != "undefined" &&
        $_GET["fgcolor"] != null &&
        $_GET["fgcolor"] != ""
      ) {
        corfg = $_GET["fgcolor"];
      }

      let theme = "tomorrow_night_bright";

      if (
        typeof $_GET["theme"] != "undefined" &&
        $_GET["theme"] != null &&
        $_GET["theme"] != ""
      ) {
        theme = $_GET["theme"];
      }

      let linha = 1;

      if (
        typeof $_GET["linha"] != "undefined" &&
        $_GET["linha"] != null &&
        $_GET["linha"] != ""
      ) {
        linha = $_GET["linha"];
      }

      document.getElementById("codigo").src =
        "https://omnicode.vercel.app/run/?lang=p5&buffer=poocodetourcodes&line=" +
        linha +
        "&preview=50&nostatus=true&noconsole=true&readonly=true&theme=" +
        theme +
        "&bgcolor=" +
        corbg +
        "&bordercolor=" +
        corbg +
        "&gutcolor=" +
        corbg +
        "&guttext=" +
        corfg +
        "&file=" +
        decodeURIComponent($_GET["code"]) +
        "&";

      document.body.style.backgroundColor = "#" + corbg;
      document.body.style.color = "#" + corfg;
    </script>
  </body>
</html>
